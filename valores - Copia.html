<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,400italic'>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/ekko-lightbox.min.css">
<!--    <link rel="stylesheet" type="text/css" href="css/ekko-lightbox-dark.css"> -->
    <link rel="stylesheet" type="text/css" href="font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
<!--
Sigma Template
http://www.templatemo.com/tm-479-sigma
-->
    <title>AQUI HOSTEL | Valores</title>
</head>

<body>

<header id="top">

	<div class="container-fluid">
    
        <div class="row">
        
            <div class="col-lg-4 col-md-12 site-title">
            	<img src="images/aquiEduca.jfif" width="18%" height="18%" vspace="15px" hspace="8px">
                <img src="images/aquiHostel.png" width="18%" height="18%" vspace="15px" hspace="8px">
              <h2>Valores >> Cadastrar</h2>              
            </div>
            
            <div class="col-lg-8 col-md-12 main-menu">
                
                <nav class="navbar navbar-light">
                  <ul class="nav navbar-nav single-page-nav">
                    <li class="nav-item">
                      <a class="nav-link" href="index.html">Página inicial <!-- <span class="sr-only">(current)</span> --></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="acomodacoes.html">Acomodações</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="funcionarios.html">Funcionários</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="hospedes.html">Hóspedes</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="valores.html">Valor</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="reservas.html">Reserva</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="pacotes.html">Pacotes</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="eventos.html">Eventos</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="depoimentos.html">Depoimentos</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="atendimentos.html">Atendimento</a>
                    </li>                    
                  </ul>
                </nav>
              
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-md-12">
            	<hr class="sigma-hr">
            </div>
        </div>

    </div>
    
</header>

            
<section id="contact">

	<div class="container-fluid">

        <div class="row sigma-section-header">
        	<div class="col-md-offset-2 col-lg-offset-3 col-lg-6 col-md-8 col-sm-12 text-center">
        		<h1>Cadastrar</h1>
                <p>Preencha os campos abaixo para cadastrar um valor da diária.</p>
            </div>
        </div>
        
        <div class="row">
            <div class="sigmano col-lg-8 col-md-12">

                <div class="col-md-6">              
                    <fieldset class="form-group">
                    	<label for="budget">Tipo da acomodação</label>
                    	<select class="form-control" id="tipo">
                      		<option>Básico</option>
                      		<option>Intermediário</option>
                      		<option>Luxo</option>
                      		<option>Super Luxo</option>
                    	</select>
                  	</fieldset>
                </div> 
          
                <div class="col-md-6">
                                      
               		<fieldset class="form-group">
                        <label for="valor">Valor da diária</label>
                        <input type="text" class="form-control" id="valor" placeholder="Preencha o valor da diária">
                  	</fieldset>
                </div> 
                
            </div>
            
			<div class="sigma-content col-lg-4 col-md-12">
        		Clique no botão abaixo para enviar e cadastrar os dados no banco de dados.<br><br>
                <button onclick="inserir()" class="btn btn-success btn-lg">Enviar</button>
            </div>
        </div>
        
	</div>
    
</section>
  
  
<footer>

	<div class="container-fluid">
    
    	<div class="row">
            <div class="col-md-12">
            	<hr class="sigma-hr">
            </div>
        </div>

        <div class="row">
        	<div class="sigma-copyright col-lg-8">
            	<p>Atividade Aqui Educa</a><br>
                   Desenvolvido por: Leonardo e Bruna</p>
            </div>
            
            <div class="sigma-copyright col-lg-4 single-page-nav text-right">
            	<img src="images/aquiEduca.jfif" width="20%" height="20%" vspace="15px" hspace="8px">
                <img src="images/aquiHostel.png" width="20%" height="20%" vspace="15px" hspace="8px">
            </div>
        </div>
        
    </div>   

</footer>



</body>
</html>

<!-- 
    Aqui abaixo nós colocamos
    o código javascript para construir o JSON
    e enviá-lo a API
-->

<script language="javascript">
    function inserir(){

        //Criando variáveis com os dados obtidos
        //nos campos do formulário no HTML
        var tipo = document.getElementById("tipo").value
        var valor = document.getElementById("valor").value        

        //Construindo o JSON que será
        //enviado para a API
        var json = {
            'tipo': tipo,
            'valor': valor         
        }

        //Enviando para a API o json 
        //construído na etapa anterior
        fetch('http://127.0.0.1:5000/valor/inserir',
        {
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            method: "POST",
            body: JSON.stringify(json)
        })
        .then(function(res){ 
            res.json()
                .then(data => {
                    console.log(data)
                    window.open("valores-lista.html");
                })
        })
        .catch(function(res){ console.log(res) })
    }
</script>